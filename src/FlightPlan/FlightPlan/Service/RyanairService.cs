using FlightPlan.Infrastructure;
using FlightPlan.Interface;
using FlightPlan.Model;
using Newtonsoft.Json;
using Newtonsoft.Json.Linq;
using System;
using System.Collections.Generic;
using System.Globalization;
using System.Linq;
using System.Threading.Tasks;

namespace FlightPlan.Service
{
    public class RyanairService : IRyanairService
    {
        private HttpService _httpService;
        public RyanairService(FlightPlanConfiguration configuration)
        {
            _httpService = new HttpService("https://www.ryanair.com");
        }

        public async Task<List<Destination>> GetDestinations()
        {
            //var jtoken = JsonConvert.DeserializeObject<JToken>(@"{""AAL"":{""name"":""Aalborg"",""country"":""DK"",""timeZone"":""DK"",""latitude"":""570535N"",""longitude"":""0095100E""},""AAR"":{""name"":""Aarhus"",""country"":""DK"",""timeZone"":""DK"",""latitude"":""561800N"",""longitude"":""0103708E""},""ABZ"":{""name"":""Aberdeen"",""country"":""GB"",""timeZone"":""GB"",""latitude"":""571215N"",""longitude"":""0021153W""},""ACE"":{""name"":""Lanzarote"",""country"":""ES"",""timeZone"":""ES2"",""latitude"":""285615N"",""longitude"":""0133613W""},""ADB"":{""name"":""Adnan Menderes"",""country"":""TR"",""timeZone"":""TR"",""latitude"":""381700N"",""longitude"":""0270900E""},""AGA"":{""name"":""Agadir"",""country"":""MA"",""timeZone"":""MA"",""latitude"":""301952N"",""longitude"":""0092434W""},""AGH"":{""name"":""Ängelholm"",""country"":""SE"",""timeZone"":""SE"",""latitude"":""561735N"",""longitude"":""0125145E""},""AGP"":{""name"":""Malaga"",""country"":""ES"",""timeZone"":""ES1"",""latitude"":""364018N"",""longitude"":""0042953W""},""AHO"":{""name"":""Alghero"",""country"":""IT"",""timeZone"":""IT"",""latitude"":""403752N"",""longitude"":""0081719E""},""ALC"":{""name"":""Alicante"",""country"":""ES"",""timeZone"":""ES1"",""latitude"":""381700N"",""longitude"":""0003400W""},""AMM"":{""name"":""Amman"",""country"":""JO"",""timeZone"":""JO"",""latitude"":""314300N"",""longitude"":""0360000E""},""AMS"":{""name"":""Amsterdam"",""country"":""NL"",""timeZone"":""NL"",""latitude"":""521830N"",""longitude"":""0044605E""},""ANG"":{""name"":""Angoulême"",""country"":""FR"",""timeZone"":""FR"",""latitude"":""454400N"",""longitude"":""0001300E""},""AOC"":{""name"":""Altenburg"",""country"":""DE"",""timeZone"":""DE"",""latitude"":""505900N"",""longitude"":""0122700E""},""AOI"":{""name"":""Ancona"",""country"":""IT"",""timeZone"":""IT"",""latitude"":""433700N"",""longitude"":""0132137E""},""AQJ"":{""name"":""Aqaba"",""country"":""JO"",""timeZone"":""JO"",""latitude"":""293700N"",""longitude"":""0350100E""},""ARN"":{""name"":""Arlanda"",""country"":""SE"",""timeZone"":""SE"",""latitude"":""593943N"",""longitude"":""0175602E""},""ARW"":{""name"":""Arad"",""country"":""RO"",""timeZone"":""RO"",""latitude"":""461100N"",""longitude"":""0211600E""},""ATH"":{""name"":""Atene"",""country"":""GR"",""timeZone"":""GR"",""latitude"":""375611N"",""longitude"":""0235640E""},""AXD"":{""name"":""Alessandropoli"",""country"":""GR"",""timeZone"":""GR"",""latitude"":""405121N"",""longitude"":""0255723E""},""AYT"":{""name"":""Antalya"",""country"":""TR"",""timeZone"":""TR"",""latitude"":""365420N"",""longitude"":""0304726E""},""BBU"":{""name"":""Baneasa"",""country"":""RO"",""timeZone"":""RO"",""latitude"":""443000N"",""longitude"":""0260600E""},""BCN"":{""name"":""Barcellona El Prat "",""country"":""ES"",""timeZone"":""ES1"",""latitude"":""411749N"",""longitude"":""0020442E""},""BDS"":{""name"":""Brindisi"",""country"":""IT"",""timeZone"":""IT"",""latitude"":""403938N"",""longitude"":""0175653E""},""BEG"":{""name"":""Belgrad Airport"",""country"":""RS"",""timeZone"":""RS"",""latitude"":""444909N"",""longitude"":""0201844E""},""BER"":{""name"":""Berlino (Brandeburgo)"",""country"":""DE"",""timeZone"":""DE"",""latitude"":""522201N"",""longitude"":""0133001E""},""BES"":{""name"":""Brest"",""country"":""FR"",""timeZone"":""FR"",""latitude"":""482650N"",""longitude"":""0042514W""},""BEY"":{""name"":""Beirut International"",""country"":""LB"",""timeZone"":""LB"",""latitude"":""334846N"",""longitude"":""0352925E""},""BFS"":{""name"":""Belfast"",""country"":""GB"",""timeZone"":""GB"",""latitude"":""543912N"",""longitude"":""0061329W""},""BGO"":{""name"":""Flesland Airport"",""country"":""NO"",""timeZone"":""NO"",""latitude"":""601737N"",""longitude"":""0051310E""},""BGY"":{""name"":""Milano (Bergamo)"",""country"":""IT"",""timeZone"":""IT"",""latitude"":""454008N"",""longitude"":""0094201E""},""BHD"":{""name"":""Belfast City"",""country"":""GB"",""timeZone"":""GB"",""latitude"":""543700N"",""longitude"":""0055300W""},""BHX"":{""name"":""Birmingham"",""country"":""GB"",""timeZone"":""GB"",""latitude"":""522711N"",""longitude"":""0014447W""},""BIA"":{""name"":""Bastia Poretta"",""country"":""FR"",""timeZone"":""FR"",""latitude"":""423257N"",""longitude"":""0092910E""},""BIO"":{""name"":""Bilbao"",""country"":""ES"",""timeZone"":""ES1"",""latitude"":""431810N"",""longitude"":""0025518W""},""BIQ"":{""name"":""Biarritz"",""country"":""FR"",""timeZone"":""FR"",""latitude"":""432811N"",""longitude"":""0013122W""},""BJV"":{""name"":""Milas"",""country"":""TR"",""timeZone"":""TR"",""latitude"":""371500N"",""longitude"":""0274100E""},""BLK"":{""name"":""Blackpool"",""country"":""GB"",""timeZone"":""GB"",""latitude"":""534619N"",""longitude"":""0030210W""},""BLL"":{""name"":""Billund"",""country"":""DK"",""timeZone"":""DK"",""latitude"":""554418N"",""longitude"":""0090900E""},""BLQ"":{""name"":""Bologna"",""country"":""IT"",""timeZone"":""IT"",""latitude"":""443151N"",""longitude"":""0111749E""},""BNX"":{""name"":""Banja Luka"",""country"":""BA"",""timeZone"":""BA"",""latitude"":""445600N"",""longitude"":""0171800E""},""BOD"":{""name"":""Bordeaux"",""country"":""FR"",""timeZone"":""FR"",""latitude"":""444946N"",""longitude"":""0004252W""},""BOH"":{""name"":""Bournemouth"",""country"":""GB"",""timeZone"":""GB"",""latitude"":""504650N"",""longitude"":""0015013W""},""BOJ"":{""name"":""Burgas"",""country"":""BG"",""timeZone"":""BG"",""latitude"":""423411N"",""longitude"":""0273055E""},""BRE"":{""name"":""Brema"",""country"":""DE"",""timeZone"":""DE"",""latitude"":""530248N"",""longitude"":""0084724E""},""BRI"":{""name"":""Bari"",""country"":""IT"",""timeZone"":""IT"",""latitude"":""410817N"",""longitude"":""0164554E""},""BRQ"":{""name"":""Brno"",""country"":""CZ"",""timeZone"":""CZ"",""latitude"":""490905N"",""longitude"":""0164140E""},""BRS"":{""name"":""Bristol"",""country"":""GB"",""timeZone"":""GB"",""latitude"":""512254N"",""longitude"":""0024232W""},""BRU"":{""name"":""Bruxelles (Zaventem)"",""country"":""BE"",""timeZone"":""BE"",""latitude"":""505405N"",""longitude"":""0042904E""},""BSL"":{""name"":""Basilea"",""country"":""CH"",""timeZone"":""CH"",""latitude"":""473524N"",""longitude"":""0073148E""},""BTS"":{""name"":""Bratislava"",""country"":""SK"",""timeZone"":""SK"",""latitude"":""481000N"",""longitude"":""0171300E""},""BUD"":{""name"":""Budapest "",""country"":""HU"",""timeZone"":""HU"",""latitude"":""472600N"",""longitude"":""0191400E""},""BVA"":{""name"":""Parigi (Beauvais)"",""country"":""FR"",""timeZone"":""FR"",""latitude"":""492721N"",""longitude"":""0020645E""},""BVE"":{""name"":""Brive"",""country"":""FR"",""timeZone"":""FR"",""latitude"":""450853N"",""longitude"":""0012825E""},""BZG"":{""name"":""Bydgoszcz"",""country"":""PL"",""timeZone"":""PL"",""latitude"":""530548N"",""longitude"":""0175843E""},""BZR"":{""name"":""Béziers"",""country"":""FR"",""timeZone"":""FR"",""latitude"":""431927N"",""longitude"":""0032116E""},""CAG"":{""name"":""Cagliari"",""country"":""IT"",""timeZone"":""IT"",""latitude"":""391450N"",""longitude"":""0090322E""},""CCF"":{""name"":""Carcassonne"",""country"":""FR"",""timeZone"":""FR"",""latitude"":""431300N"",""longitude"":""0021900E""},""CDG"":{""name"":""Charles De Gaulle Airport"",""country"":""FR"",""timeZone"":""FR"",""latitude"":""490035N"",""longitude"":""0023255E""},""CDT"":{""name"":""Castellon"",""country"":""ES"",""timeZone"":""ES1"",""latitude"":""395900N"",""longitude"":""0000300W""},""CFE"":{""name"":""Clermont (Ferrand)"",""country"":""FR"",""timeZone"":""FR"",""latitude"":""454709N"",""longitude"":""0031003E""},""CFU"":{""name"":""Corfù"",""country"":""GR"",""timeZone"":""GR"",""latitude"":""393607N"",""longitude"":""0195442E""},""CGN"":{""name"":""Colonia (Bonn)"",""country"":""DE"",""timeZone"":""DE"",""latitude"":""505157N"",""longitude"":""0070834E""},""CHQ"":{""name"":""Creta (Chania)"",""country"":""GR"",""timeZone"":""GR"",""latitude"":""353154N"",""longitude"":""0240859E""},""CIA"":{""name"":""Roma (Ciampino)"",""country"":""IT"",""timeZone"":""IT"",""latitude"":""414758N"",""longitude"":""0123550E""},""CIY"":{""name"":""Comiso"",""country"":""IT"",""timeZone"":""IT"",""latitude"":""365930N"",""longitude"":""0143625E""},""CLJ"":{""name"":""Cluj"",""country"":""RO"",""timeZone"":""RO"",""latitude"":""464700N"",""longitude"":""0234100E""},""CMN"":{""name"":""Mohamed V Airport"",""country"":""MA"",""timeZone"":""MA"",""latitude"":""332200N"",""longitude"":""0073512W""},""CND"":{""name"":""Costanza"",""country"":""RO"",""timeZone"":""RO"",""latitude"":""442100N"",""longitude"":""0282900E""},""CPH"":{""name"":""Copenaghen "",""country"":""DK"",""timeZone"":""DK"",""latitude"":""553629N"",""longitude"":""0123800E""},""CQM"":{""name"":""Ciudad Real"",""country"":""ES"",""timeZone"":""ES1"",""latitude"":""385137N"",""longitude"":""0035933W""},""CRA"":{""name"":""Craiova"",""country"":""RO"",""timeZone"":""RO"",""latitude"":""441908N"",""longitude"":""0235311E""},""CRL"":{""name"":""Bruxelles (Charleroi)"",""country"":""BE"",""timeZone"":""BE"",""latitude"":""502733N"",""longitude"":""0042714E""},""CRV"":{""name"":""Crotone"",""country"":""IT"",""timeZone"":""IT"",""latitude"":""385948N"",""longitude"":""0170445E""},""CSO"":{""name"":""Magdeburg (Cochstedt)"",""country"":""DE"",""timeZone"":""DE"",""latitude"":""515121N"",""longitude"":""0112505E""},""CTA"":{""name"":""Catania"",""country"":""IT"",""timeZone"":""IT"",""latitude"":""372800N"",""longitude"":""0150350E""},""CUF"":{""name"":""Cuneo"",""country"":""IT"",""timeZone"":""IT"",""latitude"":""443251N"",""longitude"":""0073723E""},""CWL"":{""name"":""Cardiff"",""country"":""GB"",""timeZone"":""GB"",""latitude"":""512351N"",""longitude"":""0032048W""},""DBV"":{""name"":""Dubrovnik"",""country"":""HR"",""timeZone"":""HR"",""latitude"":""423348N"",""longitude"":""0181555E""},""DEB"":{""name"":""Debrecen Airport"",""country"":""HU"",""timeZone"":""HU"",""latitude"":""472920N"",""longitude"":""0213655E""},""DLE"":{""name"":""Dole"",""country"":""FR"",""timeZone"":""FR"",""latitude"":""470300N"",""longitude"":""0052600E""},""DLM"":{""name"":""Dalaman"",""country"":""TR"",""timeZone"":""TR"",""latitude"":""364300N"",""longitude"":""0284700E""},""DNR"":{""name"":""Dinard"",""country"":""FR"",""timeZone"":""FR"",""latitude"":""483516N"",""longitude"":""0020501W""},""DOL"":{""name"":""Deauville"",""country"":""FR"",""timeZone"":""FR"",""latitude"":""492146N"",""longitude"":""0000951E""},""DRS"":{""name"":""Dresden"",""country"":""DE"",""timeZone"":""DE"",""latitude"":""510800N"",""longitude"":""0134600E""},""DSA"":{""name"":""Doncaster"",""country"":""GB"",""timeZone"":""GB"",""latitude"":""532831N"",""longitude"":""0010014W""},""DTM"":{""name"":""Dortmund"",""country"":""DE"",""timeZone"":""DE"",""latitude"":""513100N"",""longitude"":""0073600E""},""DUB"":{""name"":""Dublino "",""country"":""IE"",""timeZone"":""IE"",""latitude"":""532517N"",""longitude"":""0061612W""},""DUS"":{""name"":""Düsseldorf"",""country"":""DE"",""timeZone"":""DE"",""latitude"":""511652N"",""longitude"":""0064510E""},""EBJ"":{""name"":""Esbjerg"",""country"":""DK"",""timeZone"":""DK"",""latitude"":""553135N"",""longitude"":""0083309E""},""EBU"":{""name"":""St. Etienne"",""country"":""FR"",""timeZone"":""FR"",""latitude"":""453229N"",""longitude"":""0041749E""},""EDI"":{""name"":""Edimburgo"",""country"":""GB"",""timeZone"":""GB"",""latitude"":""555655N"",""longitude"":""0032101W""},""EFL"":{""name"":""Cefalonia"",""country"":""GR"",""timeZone"":""GR"",""latitude"":""380712N"",""longitude"":""0203002E""},""EGC"":{""name"":""Bergerac"",""country"":""FR"",""timeZone"":""FR"",""latitude"":""445100N"",""longitude"":""0002900E""},""EIN"":{""name"":""Eindhoven"",""country"":""NL"",""timeZone"":""NL"",""latitude"":""512712N"",""longitude"":""0052320E""},""EMA"":{""name"":""East Midlands"",""country"":""GB"",""timeZone"":""GB"",""latitude"":""524948N"",""longitude"":""0011946W""},""ERF"":{""name"":""Erfurt"",""country"":""DE"",""timeZone"":""DE"",""latitude"":""505847N"",""longitude"":""0105729E""},""ESU"":{""name"":""Essaouira"",""country"":""MA"",""timeZone"":""MA"",""latitude"":""312411N"",""longitude"":""0094117W""},""ETM"":{""name"":""Eilat (Ramon)"",""country"":""IL"",""timeZone"":""IL"",""latitude"":""294332N"",""longitude"":""0350228E""},""EVN"":{""name"":""Yerevan-Zvartnots Airport"",""country"":""AM"",""timeZone"":""AM"",""latitude"":""400900N"",""longitude"":""0442400E""},""EXT"":{""name"":""Exeter"",""country"":""GB"",""timeZone"":""GB"",""latitude"":""504403N"",""longitude"":""0032518W""},""FAO"":{""name"":""Faro"",""country"":""PT"",""timeZone"":""PT1"",""latitude"":""370052N"",""longitude"":""0075815W""},""FCO"":{""name"":""Roma (Fiumicino) "",""country"":""IT"",""timeZone"":""IT"",""latitude"":""414801N"",""longitude"":""0121420E""},""FDH"":{""name"":""Friedrichshafen"",""country"":""DE"",""timeZone"":""DE"",""latitude"":""474002N"",""longitude"":""0093045E""},""FEZ"":{""name"":""Fez"",""country"":""MA"",""timeZone"":""MA"",""latitude"":""335600N"",""longitude"":""0045800W""},""FKB"":{""name"":""Karlsruhe (Baden-Baden)"",""country"":""DE"",""timeZone"":""DE"",""latitude"":""484646N"",""longitude"":""0080450E""},""FMM"":{""name"":""Memmingen"",""country"":""DE"",""timeZone"":""DE"",""latitude"":""475933N"",""longitude"":""0101437E""},""FMO"":{""name"":""Münster"",""country"":""DE"",""timeZone"":""DE"",""latitude"":""520805N"",""longitude"":""0074105E""},""FNC"":{""name"":""Madeira Airport"",""country"":""PT"",""timeZone"":""PT1"",""latitude"":""324139N"",""longitude"":""0164641W""},""FNI"":{""name"":""Nîmes"",""country"":""FR"",""timeZone"":""FR"",""latitude"":""434500N"",""longitude"":""0042500E""},""FRA"":{""name"":""Frankfurt International"",""country"":""DE"",""timeZone"":""DE"",""latitude"":""500220N"",""longitude"":""0083414E""},""FRL"":{""name"":""Bologna (Forlì)"",""country"":""IT"",""timeZone"":""IT"",""latitude"":""441144N"",""longitude"":""0120411E""},""FSC"":{""name"":""Figari"",""country"":""FR"",""timeZone"":""FR"",""latitude"":""413000N"",""longitude"":""0090600E""},""FUE"":{""name"":""Fuerteventura"",""country"":""ES"",""timeZone"":""ES2"",""latitude"":""282709N"",""longitude"":""0135149W""},""GDN"":{""name"":""Danzica"",""country"":""PL"",""timeZone"":""PL"",""latitude"":""542241N"",""longitude"":""0182803E""},""GLA"":{""name"":""Glasgow "",""country"":""GB"",""timeZone"":""GB"",""latitude"":""555200N"",""longitude"":""0042600W""},""GNB"":{""name"":""Grenoble"",""country"":""FR"",""timeZone"":""FR"",""latitude"":""452146N"",""longitude"":""0051947E""},""GOA"":{""name"":""Genova"",""country"":""IT"",""timeZone"":""IT"",""latitude"":""442448N"",""longitude"":""0085015E""},""GOT"":{""name"":""Göteborg Landvetter"",""country"":""SE"",""timeZone"":""SE"",""latitude"":""574000N"",""longitude"":""0121700E""},""GPA"":{""name"":""Patrasso (Araxos)"",""country"":""GR"",""timeZone"":""GR"",""latitude"":""380904N"",""longitude"":""0212532E""},""GRO"":{""name"":""Girona (Barcellona)"",""country"":""ES"",""timeZone"":""ES1"",""latitude"":""415403N"",""longitude"":""0024538E""},""GRQ"":{""name"":""Groningen"",""country"":""NL"",""timeZone"":""NL"",""latitude"":""530713N"",""longitude"":""0063432E""},""GRX"":{""name"":""Granada"",""country"":""ES"",""timeZone"":""ES1"",""latitude"":""371119N"",""longitude"":""0034638W""},""GRZ"":{""name"":""Graz"",""country"":""AT"",""timeZone"":""AT"",""latitude"":""465937N"",""longitude"":""0152624E""},""GSE"":{""name"":""Göteborg City"",""country"":""SE"",""timeZone"":""SE"",""latitude"":""574606N"",""longitude"":""0115204E""},""GVA"":{""name"":""Geneva International Airport"",""country"":""CH"",""timeZone"":""CH"",""latitude"":""461417N"",""longitude"":""0060632E""},""HAJ"":{""name"":""Hannover"",""country"":""DE"",""timeZone"":""DE"",""latitude"":""522740N"",""longitude"":""0094106E""},""HAM"":{""name"":""Hamburg"",""country"":""DE"",""timeZone"":""DE"",""latitude"":""533749N"",""longitude"":""0095918E""},""HAU"":{""name"":""Haugesund"",""country"":""NO"",""timeZone"":""NO"",""latitude"":""592038N"",""longitude"":""0051253E""},""HEL"":{""name"":""Helsinki"",""country"":""FI"",""timeZone"":""FI"",""latitude"":""601932N"",""longitude"":""0245818E""},""HER"":{""name"":""Heraklion Crete"",""country"":""GR"",""timeZone"":""GR"",""latitude"":""352023N"",""longitude"":""0251049E""},""HHN"":{""name"":""Francoforte (Hahn)"",""country"":""DE"",""timeZone"":""DE"",""latitude"":""495700N"",""longitude"":""0071600E""},""HRG"":{""name"":""Hurghada Airport"",""country"":""EG"",""timeZone"":""EG"",""latitude"":""271043N"",""longitude"":""0334803E""},""HRK"":{""name"":""Kharkov"",""country"":""UA"",""timeZone"":""UA"",""latitude"":""495600N"",""longitude"":""0361700E""},""HUY"":{""name"":""Humberside"",""country"":""GB"",""timeZone"":""GB"",""latitude"":""533500N"",""longitude"":""0002100W""},""IAS"":{""name"":""Iasi Airport"",""country"":""RO"",""timeZone"":""RO"",""latitude"":""471100N"",""longitude"":""0273600E""},""IBZ"":{""name"":""Ibiza"",""country"":""ES"",""timeZone"":""ES1"",""latitude"":""385225N"",""longitude"":""0012222E""},""IEG"":{""name"":""Babimost Airport"",""country"":""PL"",""timeZone"":""PL"",""latitude"":""515600N"",""longitude"":""0153100E""},""IEV"":{""name"":""Kiev-Zhulhany Airport"",""country"":""UA"",""timeZone"":""UA"",""latitude"":""502443N"",""longitude"":""0302635E""},""ILD"":{""name"":""Lleida"",""country"":""ES"",""timeZone"":""ES1"",""latitude"":""414341N"",""longitude"":""0003207E""},""INI"":{""name"":""Nis"",""country"":""RS"",""timeZone"":""RS"",""latitude"":""432002N"",""longitude"":""0215106E""},""INN"":{""name"":""Innsbruck"",""country"":""AT"",""timeZone"":""AT"",""latitude"":""471537N"",""longitude"":""0112038E""},""INV"":{""name"":""Inverness"",""country"":""GB"",""timeZone"":""GB"",""latitude"":""573233N"",""longitude"":""0040254W""},""JKG"":{""name"":""Jönköping (Axamo)"",""country"":""SE"",""timeZone"":""SE"",""latitude"":""574531N"",""longitude"":""0140419E""},""JMK"":{""name"":""Mykonos"",""country"":""GR"",""timeZone"":""GR"",""latitude"":""372606N"",""longitude"":""0252053E""},""JSI"":{""name"":""Skiathos"",""country"":""GR"",""timeZone"":""GR"",""latitude"":""391038N"",""longitude"":""0233013E""},""JTR"":{""name"":""Santorin"",""country"":""GR"",""timeZone"":""GR"",""latitude"":""362357N"",""longitude"":""0252846E""},""KBP"":{""name"":""Kyiv - Borispol "",""country"":""UA"",""timeZone"":""UA"",""latitude"":""502100N"",""longitude"":""0305500E""},""KEF"":{""name"":""Keflavik International Airport"",""country"":""IS"",""timeZone"":""IS"",""latitude"":""635906N"",""longitude"":""0223620W""},""KGS"":{""name"":""Kos"",""country"":""GR"",""timeZone"":""GR"",""latitude"":""364736N"",""longitude"":""0270530E""},""KHE"":{""name"":""Kherson"",""country"":""UA"",""timeZone"":""UA"",""latitude"":""464024N"",""longitude"":""0323053E""},""KID"":{""name"":""Kristianstad"",""country"":""SE"",""timeZone"":""SE"",""latitude"":""555510N"",""longitude"":""0140520E""},""KIR"":{""name"":""Kerry"",""country"":""IE"",""timeZone"":""IE"",""latitude"":""521051N"",""longitude"":""0093126W""},""KIV"":{""name"":""Chisinau Airport"",""country"":""MD"",""timeZone"":""MD"",""latitude"":""465500N"",""longitude"":""0285600E""},""KLR"":{""name"":""Kalmar"",""country"":""SE"",""timeZone"":""SE"",""latitude"":""564106N"",""longitude"":""0161714E""},""KLU"":{""name"":""Klagenfurt"",""country"":""AT"",""timeZone"":""AT"",""latitude"":""463835N"",""longitude"":""0142030E""},""KLX"":{""name"":""Kalamata"",""country"":""GR"",""timeZone"":""GR"",""latitude"":""370406N"",""longitude"":""0220132E""},""KRK"":{""name"":""Cracovia"",""country"":""PL"",""timeZone"":""PL"",""latitude"":""500500N"",""longitude"":""0194700E""},""KSC"":{""name"":""Kosice"",""country"":""SK"",""timeZone"":""SK"",""latitude"":""484000N"",""longitude"":""0211500E""},""KSD"":{""name"":""Karlstad"",""country"":""SE"",""timeZone"":""SE"",""latitude"":""592649N"",""longitude"":""0132029E""},""KTW"":{""name"":""Katowice"",""country"":""PL"",""timeZone"":""PL"",""latitude"":""502900N"",""longitude"":""0190500E""},""KUN"":{""name"":""Kaunas"",""country"":""LT"",""timeZone"":""LT"",""latitude"":""545752N"",""longitude"":""0240429E""},""KUT"":{""name"":""Kutaisi"",""country"":""GE"",""timeZone"":""GE"",""latitude"":""421459N"",""longitude"":""0423715E""},""KVA"":{""name"":""Megas Alexandros"",""country"":""GR"",""timeZone"":""GR"",""latitude"":""405448N"",""longitude"":""0243709E""},""LBA"":{""name"":""Leeds Bradford"",""country"":""GB"",""timeZone"":""GB"",""latitude"":""535155N"",""longitude"":""0013917W""},""LBC"":{""name"":""Amburgo (Lübeck)"",""country"":""DE"",""timeZone"":""DE"",""latitude"":""534819N"",""longitude"":""0104309E""},""LBG"":{""name"":""Le Bourget"",""country"":""FR"",""timeZone"":""FR"",""latitude"":""485819N"",""longitude"":""0022633E""},""LCA"":{""name"":""Larnaca"",""country"":""CY"",""timeZone"":""CY"",""latitude"":""345230N"",""longitude"":""0333729E""},""LCJ"":{""name"":""Lodz"",""country"":""PL"",""timeZone"":""PL"",""latitude"":""514319N"",""longitude"":""0192354E""},""LDE"":{""name"":""Lourdes"",""country"":""FR"",""timeZone"":""FR"",""latitude"":""431055N"",""longitude"":""0000013W""},""LDY"":{""name"":""Derry"",""country"":""GB"",""timeZone"":""GB"",""latitude"":""550236N"",""longitude"":""0070912W""},""LED"":{""name"":""St Petersburg"",""country"":""RU"",""timeZone"":""RU2"",""latitude"":""594800N"",""longitude"":""0301800E""},""LEI"":{""name"":""Almeria"",""country"":""ES"",""timeZone"":""ES1"",""latitude"":""365040N"",""longitude"":""0022220W""},""LEJ"":{""name"":""Lipsia (Halle)"",""country"":""DE"",""timeZone"":""DE"",""latitude"":""512557N"",""longitude"":""0121430E""},""LGW"":{""name"":""Londra (Gatwick)"",""country"":""GB"",""timeZone"":""GB"",""latitude"":""510853N"",""longitude"":""0001148W""},""LIG"":{""name"":""Limoges"",""country"":""FR"",""timeZone"":""FR"",""latitude"":""455139N"",""longitude"":""0011049E""},""LIL"":{""name"":""Lille"",""country"":""FR"",""timeZone"":""FR"",""latitude"":""503352N"",""longitude"":""0030517E""},""LIS"":{""name"":""Lisbona "",""country"":""PT"",""timeZone"":""PT1"",""latitude"":""384655N"",""longitude"":""0090800W""},""LJU"":{""name"":""Brnik Airport"",""country"":""SI"",""timeZone"":""SI"",""latitude"":""461329N"",""longitude"":""0142739E""},""LLA"":{""name"":""Kallax Airport"",""country"":""SE"",""timeZone"":""SE"",""latitude"":""653241N"",""longitude"":""0220740E""},""LNZ"":{""name"":""Linz"",""country"":""AT"",""timeZone"":""AT"",""latitude"":""481400N"",""longitude"":""0141115E""},""LPA"":{""name"":""Gran Canaria"",""country"":""ES"",""timeZone"":""ES2"",""latitude"":""275555N"",""longitude"":""0152312W""},""LPL"":{""name"":""Liverpool"",""country"":""GB"",""timeZone"":""GB"",""latitude"":""532018N"",""longitude"":""0025200W""},""LPP"":{""name"":""Lappeenranta"",""country"":""FI"",""timeZone"":""FI"",""latitude"":""610246N"",""longitude"":""0280924E""},""LRH"":{""name"":""La Rochelle"",""country"":""FR"",""timeZone"":""FR"",""latitude"":""461050N"",""longitude"":""0011109W""},""LRT"":{""name"":""Lorient"",""country"":""FR"",""timeZone"":""FR"",""latitude"":""474540N"",""longitude"":""0032621W""},""LTN"":{""name"":""Londra (Luton)"",""country"":""GB"",""timeZone"":""GB"",""latitude"":""515300N"",""longitude"":""0002106W""},""LUX"":{""name"":""Luxembourg"",""country"":""LU"",""timeZone"":""LU"",""latitude"":""493740N"",""longitude"":""0061224E""},""LUZ"":{""name"":""Lublin"",""country"":""PL"",""timeZone"":""PL"",""latitude"":""511419N"",""longitude"":""0224248E""},""LWN"":{""name"":""Shirak"",""country"":""AM"",""timeZone"":""AM"",""latitude"":""404300N"",""longitude"":""0435000E""},""LWO"":{""name"":""Lviv"",""country"":""UA"",""timeZone"":""UA"",""latitude"":""494900N"",""longitude"":""0235100E""},""LYS"":{""name"":""Lyon Satolas"",""country"":""FR"",""timeZone"":""FR"",""latitude"":""454332N"",""longitude"":""0050454E""},""MAD"":{""name"":""Madrid "",""country"":""ES"",""timeZone"":""ES1"",""latitude"":""402820N"",""longitude"":""0033348W""},""MAH"":{""name"":""Mahon"",""country"":""ES"",""timeZone"":""ES1"",""latitude"":""395141N"",""longitude"":""0041255E""},""MAN"":{""name"":""Manchester "",""country"":""GB"",""timeZone"":""GB"",""latitude"":""532112N"",""longitude"":""0021636W""},""MBX"":{""name"":""Maribor"",""country"":""SI"",""timeZone"":""SI"",""latitude"":""463300N"",""longitude"":""0153900E""},""MJT"":{""name"":""Odysseas Elytis Airport"",""country"":""GR"",""timeZone"":""GR"",""latitude"":""390324N"",""longitude"":""0263554E""},""MJV"":{""name"":""Murcia"",""country"":""ES"",""timeZone"":""ES1"",""latitude"":""374629N"",""longitude"":""0004840W""},""MLA"":{""name"":""Malta"",""country"":""MT"",""timeZone"":""MT"",""latitude"":""355114N"",""longitude"":""0142859E""},""MME"":{""name"":""Teesside Intl."",""country"":""GB"",""timeZone"":""GB"",""latitude"":""543100N"",""longitude"":""0012500W""},""MMX"":{""name"":""Malmö"",""country"":""SE"",""timeZone"":""SE"",""latitude"":""553140N"",""longitude"":""0132207E""},""MPL"":{""name"":""Montpellier"",""country"":""FR"",""timeZone"":""FR"",""latitude"":""433451N"",""longitude"":""0035803E""},""MRS"":{""name"":""Marsiglia "",""country"":""FR"",""timeZone"":""FR"",""latitude"":""432608N"",""longitude"":""0051259E""},""MSQ"":{""name"":""Minsk International 2 Airport"",""country"":""BY"",""timeZone"":""BY"",""latitude"":""535200N"",""longitude"":""0273300E""},""MST"":{""name"":""Maastricht"",""country"":""NL"",""timeZone"":""NL"",""latitude"":""505440N"",""longitude"":""0054625E""},""MUC"":{""name"":""Munich International"",""country"":""DE"",""timeZone"":""DE"",""latitude"":""482114N"",""longitude"":""0114710E""},""MXP"":{""name"":""Milano Malpensa "",""country"":""IT"",""timeZone"":""IT"",""latitude"":""453748N"",""longitude"":""0084323E""},""NAP"":{""name"":""Naples"",""country"":""IT"",""timeZone"":""IT"",""latitude"":""405304N"",""longitude"":""0141727E""},""NCE"":{""name"":""Nizza "",""country"":""FR"",""timeZone"":""FR"",""latitude"":""433950N"",""longitude"":""0071303E""},""NCL"":{""name"":""Newcastle"",""country"":""GB"",""timeZone"":""GB"",""latitude"":""550216N"",""longitude"":""0014112W""},""NDR"":{""name"":""Nador"",""country"":""MA"",""timeZone"":""MA"",""latitude"":""345921N"",""longitude"":""0030140W""},""NOC"":{""name"":""Knock"",""country"":""IE"",""timeZone"":""IE"",""latitude"":""535437N"",""longitude"":""0084907W""},""NQY"":{""name"":""Newquay"",""country"":""GB"",""timeZone"":""GB"",""latitude"":""502626N"",""longitude"":""0045943W""},""NRK"":{""name"":""Norrköping"",""country"":""SE"",""timeZone"":""SE"",""latitude"":""583500N"",""longitude"":""0161500E""},""NRN"":{""name"":""Düsseldorf (Weeze)"",""country"":""DE"",""timeZone"":""DE"",""latitude"":""513620N"",""longitude"":""0060900E""},""NTE"":{""name"":""Nantes"",""country"":""FR"",""timeZone"":""FR"",""latitude"":""470930N"",""longitude"":""0013635W""},""NUE"":{""name"":""Norimberga"",""country"":""DE"",""timeZone"":""DE"",""latitude"":""492955N"",""longitude"":""0110401E""},""NWI"":{""name"":""Norwich"",""country"":""GB"",""timeZone"":""GB"",""latitude"":""524100N"",""longitude"":""0011700E""},""NYO"":{""name"":""Stoccolma Skavsta"",""country"":""SE"",""timeZone"":""SE"",""latitude"":""584706N"",""longitude"":""0165525E""},""ODS"":{""name"":""Odessa-Central"",""country"":""UA"",""timeZone"":""UA"",""latitude"":""462600N"",""longitude"":""0304100E""},""OLB"":{""name"":""Olbia"",""country"":""IT"",""timeZone"":""IT"",""latitude"":""405355N"",""longitude"":""0093104E""},""OMR"":{""name"":""Oradea"",""country"":""RO"",""timeZone"":""RO"",""latitude"":""470139N"",""longitude"":""0215411E""},""OPO"":{""name"":""Porto"",""country"":""PT"",""timeZone"":""PT1"",""latitude"":""411428N"",""longitude"":""0084045W""},""ORB"":{""name"":""Orebro-Bofors Airport"",""country"":""SE"",""timeZone"":""SE"",""latitude"":""591341N"",""longitude"":""0150223E""},""ORK"":{""name"":""Cork"",""country"":""IE"",""timeZone"":""IE"",""latitude"":""515029N"",""longitude"":""0082928W""},""OSD"":{""name"":""Froesoe"",""country"":""SE"",""timeZone"":""SE"",""latitude"":""631155N"",""longitude"":""0142940E""},""OSI"":{""name"":""Osijek"",""country"":""HR"",""timeZone"":""HR"",""latitude"":""452749N"",""longitude"":""0184834E""},""OSL"":{""name"":""Oslo"",""country"":""NO"",""timeZone"":""NO"",""latitude"":""601200N"",""longitude"":""0110500E""},""OSR"":{""name"":""Ostrava"",""country"":""CZ"",""timeZone"":""CZ"",""latitude"":""494148N"",""longitude"":""0180656E""},""OST"":{""name"":""Ostend"",""country"":""BE"",""timeZone"":""BE"",""latitude"":""511159N"",""longitude"":""0025149E""},""OTP"":{""name"":""Bucharest (Otopeni)"",""country"":""RO"",""timeZone"":""RO"",""latitude"":""443400N"",""longitude"":""0260600E""},""OUD"":{""name"":""Oujda"",""country"":""MA"",""timeZone"":""MA"",""latitude"":""344700N"",""longitude"":""0015600W""},""OVD"":{""name"":""Asturie"",""country"":""ES"",""timeZone"":""ES1"",""latitude"":""433400N"",""longitude"":""0060200W""},""OZH"":{""name"":""Zaporozhye Airport"",""country"":""UA"",""timeZone"":""UA"",""latitude"":""475203N"",""longitude"":""0351857E""},""OZZ"":{""name"":""Ouarzazate"",""country"":""MA"",""timeZone"":""MA"",""latitude"":""305500N"",""longitude"":""0065500W""},""PAD"":{""name"":""Paderborn"",""country"":""DE"",""timeZone"":""DE"",""latitude"":""513654N"",""longitude"":""0083716E""},""PDL"":{""name"":""Ponta Delgada"",""country"":""PT"",""timeZone"":""PT2"",""latitude"":""374450N"",""longitude"":""0254055W""},""PDV"":{""name"":""Plovdiv"",""country"":""BG"",""timeZone"":""BG"",""latitude"":""420404N"",""longitude"":""0245103E""},""PED"":{""name"":""Pardubice"",""country"":""CZ"",""timeZone"":""CZ"",""latitude"":""500048N"",""longitude"":""0154419E""},""PEG"":{""name"":""Perugia"",""country"":""IT"",""timeZone"":""IT"",""latitude"":""430550N"",""longitude"":""0123037E""},""PFO"":{""name"":""Pafos"",""country"":""CY"",""timeZone"":""CY"",""latitude"":""344305N"",""longitude"":""0322909E""},""PGF"":{""name"":""Perpignan"",""country"":""FR"",""timeZone"":""FR"",""latitude"":""424427N"",""longitude"":""0025218E""},""PIK"":{""name"":""Glasgow (Prestwick)"",""country"":""GB"",""timeZone"":""GB"",""latitude"":""553011N"",""longitude"":""0043432W""},""PIS"":{""name"":""Poitiers"",""country"":""FR"",""timeZone"":""FR"",""latitude"":""463510N"",""longitude"":""0001823E""},""PLQ"":{""name"":""Palanga"",""country"":""LT"",""timeZone"":""LT"",""latitude"":""555700N"",""longitude"":""0210500E""},""PMF"":{""name"":""Parma"",""country"":""IT"",""timeZone"":""IT"",""latitude"":""444920N"",""longitude"":""0101743E""},""PMI"":{""name"":""Palma di Maiorca"",""country"":""ES"",""timeZone"":""ES1"",""latitude"":""393306N"",""longitude"":""0024420E""},""PMO"":{""name"":""Palermo"",""country"":""IT"",""timeZone"":""IT"",""latitude"":""381055N"",""longitude"":""0130558E""},""POZ"":{""name"":""Poznań"",""country"":""PL"",""timeZone"":""PL"",""latitude"":""522453N"",""longitude"":""0164943E""},""PRG"":{""name"":""Praga"",""country"":""CZ"",""timeZone"":""CZ"",""latitude"":""500603N"",""longitude"":""0141536E""},""PRN"":{""name"":""Pristina International Airport"",""country"":""RS"",""timeZone"":""RS"",""latitude"":""423425N"",""longitude"":""0210208E""},""PSA"":{""name"":""Pisa"",""country"":""IT"",""timeZone"":""IT"",""latitude"":""434058N"",""longitude"":""0102344E""},""PSR"":{""name"":""Pescara"",""country"":""IT"",""timeZone"":""IT"",""latitude"":""422614N"",""longitude"":""0141114E""},""PUF"":{""name"":""Pau"",""country"":""FR"",""timeZone"":""FR"",""latitude"":""432248N"",""longitude"":""0002507W""},""PUY"":{""name"":""Pola"",""country"":""HR"",""timeZone"":""HR"",""latitude"":""445330N"",""longitude"":""0135525E""},""PVK"":{""name"":""Aktion"",""country"":""GR"",""timeZone"":""GR"",""latitude"":""385532N"",""longitude"":""0204555E""},""PXO"":{""name"":""Porto Santo Airport"",""country"":""PT"",""timeZone"":""PT1"",""latitude"":""330401N"",""longitude"":""0162044W""},""RAK"":{""name"":""Marrakesh"",""country"":""MA"",""timeZone"":""MA"",""latitude"":""313630N"",""longitude"":""0080218W""},""RBA"":{""name"":""Rabat"",""country"":""MA"",""timeZone"":""MA"",""latitude"":""340300N"",""longitude"":""0064525W""},""RDZ"":{""name"":""Rodez"",""country"":""FR"",""timeZone"":""FR"",""latitude"":""442200N"",""longitude"":""0023100E""},""REG"":{""name"":""Tito Menniti Airport"",""country"":""IT"",""timeZone"":""IT"",""latitude"":""380419N"",""longitude"":""0153913E""},""REU"":{""name"":""Reus (Barcellona)"",""country"":""ES"",""timeZone"":""ES1"",""latitude"":""410900N"",""longitude"":""0011010E""},""RHO"":{""name"":""Rhodes"",""country"":""GR"",""timeZone"":""GR"",""latitude"":""362420N"",""longitude"":""0280510E""},""RIX"":{""name"":""Riga"",""country"":""LV"",""timeZone"":""LV"",""latitude"":""565530N"",""longitude"":""0235820E""},""RJK"":{""name"":""Fiume"",""country"":""HR"",""timeZone"":""HR"",""latitude"":""451257N"",""longitude"":""0143406E""},""RLG"":{""name"":""Rostock"",""country"":""DE"",""timeZone"":""DE"",""latitude"":""535505N"",""longitude"":""0121642E""},""RMF"":{""name"":""Marsa Alam Airport"",""country"":""EG"",""timeZone"":""EG"",""latitude"":""253329N"",""longitude"":""0343458E""},""RMI"":{""name"":""Rimini"",""country"":""IT"",""timeZone"":""IT"",""latitude"":""440110N"",""longitude"":""0123634E""},""RMU"":{""name"":""Murcia Intl"",""country"":""ES"",""timeZone"":""ES1"",""latitude"":""374736N"",""longitude"":""0010825W""},""RNS"":{""name"":""Rennes"",""country"":""FR"",""timeZone"":""FR"",""latitude"":""480407N"",""longitude"":""0014353W""},""RVN"":{""name"":""Rovaniemi\u00A0- Lapponia"",""country"":""FI"",""timeZone"":""FI"",""latitude"":""663347N"",""longitude"":""0254936E""},""RYG"":{""name"":""Oslo (Rygge)"",""country"":""NO"",""timeZone"":""NO"",""latitude"":""592244N"",""longitude"":""0104708E""},""RZE"":{""name"":""Rzeszów"",""country"":""PL"",""timeZone"":""PL"",""latitude"":""500700N"",""longitude"":""0220100E""},""SBZ"":{""name"":""Sibiu Airport"",""country"":""RO"",""timeZone"":""RO"",""latitude"":""454700N"",""longitude"":""0240500E""},""SCQ"":{""name"":""Santiago Comp."",""country"":""ES"",""timeZone"":""ES1"",""latitude"":""425347N"",""longitude"":""0082455W""},""SCV"":{""name"":""Suceava Airport"",""country"":""RO"",""timeZone"":""RO"",""latitude"":""474122N"",""longitude"":""0262122E""},""SDR"":{""name"":""Santander"",""country"":""ES"",""timeZone"":""ES1"",""latitude"":""432545N"",""longitude"":""0034935W""},""SEN"":{""name"":""Southend"",""country"":""GB"",""timeZone"":""GB"",""latitude"":""513422N"",""longitude"":""0004205E""},""SFT"":{""name"":""Skellefteå"",""country"":""SE"",""timeZone"":""SE"",""latitude"":""643730N"",""longitude"":""0210442E""},""SKG"":{""name"":""Salonicco"",""country"":""GR"",""timeZone"":""GR"",""latitude"":""403111N"",""longitude"":""0225815E""},""SNN"":{""name"":""Shannon"",""country"":""IE"",""timeZone"":""IE"",""latitude"":""524207N"",""longitude"":""0085529W""},""SOB"":{""name"":""Balaton"",""country"":""HU"",""timeZone"":""HU"",""latitude"":""464110N"",""longitude"":""0170933E""},""SOF"":{""name"":""Sofia"",""country"":""BG"",""timeZone"":""BG"",""latitude"":""424142N"",""longitude"":""0232430E""},""SPC"":{""name"":""La Palma"",""country"":""ES"",""timeZone"":""ES2"",""latitude"":""283735N"",""longitude"":""0174520W""},""SPU"":{""name"":""Split"",""country"":""HR"",""timeZone"":""HR"",""latitude"":""433130N"",""longitude"":""0161732E""},""STN"":{""name"":""Londra (Stansted)"",""country"":""GB"",""timeZone"":""GB"",""latitude"":""515300N"",""longitude"":""0001400E""},""STR"":{""name"":""Stuttgart"",""country"":""DE"",""timeZone"":""DE"",""latitude"":""484124N"",""longitude"":""0091319E""},""SUF"":{""name"":""Lamezia"",""country"":""IT"",""timeZone"":""IT"",""latitude"":""385430N"",""longitude"":""0161430E""},""SVG"":{""name"":""Sola"",""country"":""NO"",""timeZone"":""NO"",""latitude"":""585247N"",""longitude"":""0053805E""},""SVQ"":{""name"":""Siviglia"",""country"":""ES"",""timeZone"":""ES1"",""latitude"":""372505N"",""longitude"":""0055335W""},""SXB"":{""name"":""Strasburgo"",""country"":""FR"",""timeZone"":""FR"",""latitude"":""483200N"",""longitude"":""0073800E""},""SXF"":{""name"":""Berlino (Schönefeld) "",""country"":""DE"",""timeZone"":""DE"",""latitude"":""522200N"",""longitude"":""0133000E""},""SZG"":{""name"":""Salisburgo"",""country"":""AT"",""timeZone"":""AT"",""latitude"":""474735N"",""longitude"":""0130020E""},""SZY"":{""name"":""Olsztyn-Mazury"",""country"":""PL"",""timeZone"":""PL"",""latitude"":""522610N"",""longitude"":""0205618E""},""SZZ"":{""name"":""Stettino"",""country"":""PL"",""timeZone"":""PL"",""latitude"":""533500N"",""longitude"":""0145400E""},""TAT"":{""name"":""Poprad/Tatry Airport"",""country"":""SK"",""timeZone"":""SK"",""latitude"":""490419N"",""longitude"":""0201425E""},""TBS"":{""name"":""Tbilisi"",""country"":""GE"",""timeZone"":""GE"",""latitude"":""414000N"",""longitude"":""0445700E""},""TER"":{""name"":""Lajes"",""country"":""PT"",""timeZone"":""PT2"",""latitude"":""384524N"",""longitude"":""0270539W""},""TFN"":{""name"":""Tenerife (North)"",""country"":""ES"",""timeZone"":""ES2"",""latitude"":""282858N"",""longitude"":""0162030W""},""TFS"":{""name"":""Tenerife (South)"",""country"":""ES"",""timeZone"":""ES2"",""latitude"":""280240N"",""longitude"":""0163421W""},""TGD"":{""name"":""Podgorica"",""country"":""ME"",""timeZone"":""ME"",""latitude"":""422130N"",""longitude"":""0191507E""},""TGM"":{""name"":""Targu Mures"",""country"":""RO"",""timeZone"":""RO"",""latitude"":""463200N"",""longitude"":""0243200E""},""TIA"":{""name"":""Tirana"",""country"":""AL"",""timeZone"":""AL"",""latitude"":""412501N"",""longitude"":""0194300E""},""TIV"":{""name"":""Tivat"",""country"":""ME"",""timeZone"":""ME"",""latitude"":""422413N"",""longitude"":""0184332E""},""TKU"":{""name"":""Turku "",""country"":""FI"",""timeZone"":""FI"",""latitude"":""603051N"",""longitude"":""0221614E""},""TLL"":{""name"":""Tallinn"",""country"":""EE"",""timeZone"":""EE"",""latitude"":""592448N"",""longitude"":""0244957E""},""TLN"":{""name"":""Tolone"",""country"":""FR"",""timeZone"":""FR"",""latitude"":""430600N"",""longitude"":""0060900E""},""TLS"":{""name"":""Toulouse"",""country"":""FR"",""timeZone"":""FR"",""latitude"":""433749N"",""longitude"":""0012154E""},""TLV"":{""name"":""Tel Aviv"",""country"":""IL"",""timeZone"":""IL"",""latitude"":""320044N"",""longitude"":""0345257E""},""TMP"":{""name"":""Tampere"",""country"":""FI"",""timeZone"":""FI"",""latitude"":""612504N"",""longitude"":""0233712E""},""TNG"":{""name"":""Tangeri"",""country"":""MA"",""timeZone"":""MA"",""latitude"":""354300N"",""longitude"":""0055500W""},""TNL"":{""name"":""Ternopol"",""country"":""UA"",""timeZone"":""UA"",""latitude"":""493400N"",""longitude"":""0253600E""},""TPS"":{""name"":""Trapani"",""country"":""IT"",""timeZone"":""IT"",""latitude"":""375443N"",""longitude"":""0122936E""},""TRF"":{""name"":""Oslo (Torp)"",""country"":""NO"",""timeZone"":""NO"",""latitude"":""591100N"",""longitude"":""0101600E""},""TRN"":{""name"":""Torino"",""country"":""IT"",""timeZone"":""IT"",""latitude"":""451209N"",""longitude"":""0073858E""},""TRS"":{""name"":""Trieste"",""country"":""IT"",""timeZone"":""IT"",""latitude"":""454939N"",""longitude"":""0132820E""},""TSF"":{""name"":""Venezia (Treviso)"",""country"":""IT"",""timeZone"":""IT"",""latitude"":""453903N"",""longitude"":""0121152E""},""TSR"":{""name"":""Timisoara"",""country"":""RO"",""timeZone"":""RO"",""latitude"":""454900N"",""longitude"":""0212000E""},""TTU"":{""name"":""Tetouan"",""country"":""MA"",""timeZone"":""MA"",""latitude"":""353500N"",""longitude"":""0051900W""},""TUF"":{""name"":""Tours"",""country"":""FR"",""timeZone"":""FR"",""latitude"":""472542N"",""longitude"":""0004339E""},""TXL"":{""name"":""BerlinTegel"",""country"":""DE"",""timeZone"":""DE"",""latitude"":""523338N"",""longitude"":""0131744E""},""TZL"":{""name"":""Tuzla International Airport"",""country"":""BA"",""timeZone"":""BA"",""latitude"":""442731N"",""longitude"":""0184328E""},""VAR"":{""name"":""Varna"",""country"":""BG"",""timeZone"":""BG"",""latitude"":""431355N"",""longitude"":""0274930E""},""VBS"":{""name"":""Verona (Brescia)"",""country"":""IT"",""timeZone"":""IT"",""latitude"":""452544N"",""longitude"":""0101950E""},""VBY"":{""name"":""Visby Airport"",""country"":""SE"",""timeZone"":""SE"",""latitude"":""573947N"",""longitude"":""0182058E""},""VCE"":{""name"":""Venezia (Marco Polo)"",""country"":""IT"",""timeZone"":""IT"",""latitude"":""453019N"",""longitude"":""0122107E""},""VDA"":{""name"":""Eilat"",""country"":""IL"",""timeZone"":""IL"",""latitude"":""295600N"",""longitude"":""0345650E""},""VGO"":{""name"":""Vigo"",""country"":""ES"",""timeZone"":""ES1"",""latitude"":""421335N"",""longitude"":""0083740W""},""VIE"":{""name"":""Vienna"",""country"":""AT"",""timeZone"":""AT"",""latitude"":""480640N"",""longitude"":""0163330E""},""VIT"":{""name"":""Vitoria (Bilbao)"",""country"":""ES"",""timeZone"":""ES1"",""latitude"":""425247N"",""longitude"":""0024345W""},""VLC"":{""name"":""Valencia"",""country"":""ES"",""timeZone"":""ES1"",""latitude"":""392925N"",""longitude"":""0002843W""},""VLL"":{""name"":""Valladolid"",""country"":""ES"",""timeZone"":""ES1"",""latitude"":""414222N"",""longitude"":""0045107W""},""VNO"":{""name"":""Vilnius"",""country"":""LT"",""timeZone"":""LT"",""latitude"":""543800N"",""longitude"":""0251700E""},""VOL"":{""name"":""Volos"",""country"":""GR"",""timeZone"":""GR"",""latitude"":""391311N"",""longitude"":""0224740E""},""VRN"":{""name"":""Verona"",""country"":""IT"",""timeZone"":""IT"",""latitude"":""452347N"",""longitude"":""0105317E""},""VST"":{""name"":""Stoccolma Vasteras"",""country"":""SE"",""timeZone"":""SE"",""latitude"":""593521N"",""longitude"":""0163750E""},""VXO"":{""name"":""Smaland (Vaxjo)"",""country"":""SE"",""timeZone"":""SE"",""latitude"":""565600N"",""longitude"":""0144400E""},""WAW"":{""name"":""Varsavia (Chopin)"",""country"":""PL"",""timeZone"":""PL"",""latitude"":""521000N"",""longitude"":""0205800E""},""WMI"":{""name"":""Varsavia (Modlin)"",""country"":""PL"",""timeZone"":""PL"",""latitude"":""522704N"",""longitude"":""0203906E""},""WRO"":{""name"":""Breslavia"",""country"":""PL"",""timeZone"":""PL"",""latitude"":""510600N"",""longitude"":""0165300E""},""XCR"":{""name"":""Parigi (Vatry)"",""country"":""FR"",""timeZone"":""FR"",""latitude"":""484604N"",""longitude"":""0041204E""},""XRY"":{""name"":""Jerez"",""country"":""ES"",""timeZone"":""ES1"",""latitude"":""364441N"",""longitude"":""0060336W""},""ZAD"":{""name"":""Zara"",""country"":""HR"",""timeZone"":""HR"",""latitude"":""440552N"",""longitude"":""0152124E""},""ZAG"":{""name"":""Zagreb"",""country"":""HR"",""timeZone"":""HR"",""latitude"":""454435N"",""longitude"":""0160413E""},""ZAZ"":{""name"":""Saragozza"",""country"":""ES"",""timeZone"":""ES1"",""latitude"":""413958N"",""longitude"":""0010230W""},""ZQW"":{""name"":""Zweibrücken"",""country"":""DE"",""timeZone"":""DE"",""latitude"":""491234N"",""longitude"":""0072402E""},""ZRH"":{""name"":""Zurich"",""country"":""CH"",""timeZone"":""CH"",""latitude"":""472730N"",""longitude"":""0083306E""},""ZTH"":{""name"":""Zacinto"",""country"":""GR"",""timeZone"":""GR"",""latitude"":""374503N"",""longitude"":""0205303E""}}");
            var jtoken = await _httpService.Get<JToken>(_httpService.GetFullUrl($"booking/v4/it-it/res/stations"));

            var res = jtoken.Children().Select(x =>
             {
                 var val = x.First.ToString();

                 var destination = JsonConvert.DeserializeObject<Destination>(val);
                 destination.Tag = x.Path;
                 return destination;
             }).ToList(); ;

            return res;
        }

        public List<Tuple<int, int>> CalculateSheets(int? month, int year, bool exactlyMonth)
        {
            var res = new List<Tuple<int, int>>();

            if (exactlyMonth && month.HasValue)
            {
                res.Add(new Tuple<int, int>(month.Value, year));
            }
            else
            {
                int currentMonth = month.HasValue ? month.Value : DateTime.Now.Month;

                DateTime startDate = DateTime.Now;
                DateTime endDate = new DateTime(year, currentMonth, 1);

                DateTime iterator;
                DateTime limit;

                if (endDate > startDate)
                {
                    iterator = new DateTime(startDate.Year, startDate.Month, 1);
                    limit = endDate;
                }
                else
                {
                    iterator = new DateTime(endDate.Year, endDate.Month, 1);
                    limit = startDate;
                }

                while (iterator <= limit)
                {
                    res.Add(new Tuple<int, int>(iterator.Month, iterator.Year));

                    iterator = iterator.AddMonths(1);
                }
            }

            return res;
        }

        public async Task<Plan> GetFlightPlan(string source, string destination, int? month, int year)
        {
            int currentMonth = month.HasValue ? month.Value : DateTime.Now.Month;

            //if (source == "BRI" && destination == "FCO")
            //{
            //    var res = JsonConvert.DeserializeObject<Plan>(@"{""month"":11,""days"":[{""day"":1,""flights"":[{""carrierCode"":""FR"",""number"":""5817"",""departureTime"":""07:15"",""arrivalTime"":""08:25""},{""carrierCode"":""FR"",""number"":""7074"",""departureTime"":""22:40"",""arrivalTime"":""23:50""}]},{""day"":2,""flights"":[{""carrierCode"":""FR"",""number"":""5817"",""departureTime"":""07:15"",""arrivalTime"":""08:25""},{""carrierCode"":""FR"",""number"":""7074"",""departureTime"":""22:20"",""arrivalTime"":""23:30""}]},{""day"":3,""flights"":[{""carrierCode"":""FR"",""number"":""5817"",""departureTime"":""07:15"",""arrivalTime"":""08:25""},{""carrierCode"":""FR"",""number"":""7074"",""departureTime"":""23:10"",""arrivalTime"":""00:20""}]},{""day"":4,""flights"":[{""carrierCode"":""FR"",""number"":""5817"",""departureTime"":""07:15"",""arrivalTime"":""08:25""},{""carrierCode"":""FR"",""number"":""7074"",""departureTime"":""12:40"",""arrivalTime"":""13:50""},{""carrierCode"":""FR"",""number"":""7076"",""departureTime"":""21:35"",""arrivalTime"":""22:45""}]},{""day"":5,""flights"":[{""carrierCode"":""FR"",""number"":""5817"",""departureTime"":""07:15"",""arrivalTime"":""08:25""},{""carrierCode"":""FR"",""number"":""7074"",""departureTime"":""22:25"",""arrivalTime"":""23:35""}]},{""day"":6,""flights"":[{""carrierCode"":""FR"",""number"":""5817"",""departureTime"":""08:20"",""arrivalTime"":""09:30""},{""carrierCode"":""FR"",""number"":""7074"",""departureTime"":""22:20"",""arrivalTime"":""23:30""}]},{""day"":7,""flights"":[{""carrierCode"":""FR"",""number"":""5817"",""departureTime"":""07:20"",""arrivalTime"":""08:30""},{""carrierCode"":""FR"",""number"":""7074"",""departureTime"":""22:20"",""arrivalTime"":""23:30""}]},{""day"":8,""flights"":[{""carrierCode"":""FR"",""number"":""5817"",""departureTime"":""07:15"",""arrivalTime"":""08:25""},{""carrierCode"":""FR"",""number"":""7074"",""departureTime"":""22:40"",""arrivalTime"":""23:50""}]},{""day"":9,""flights"":[{""carrierCode"":""FR"",""number"":""5817"",""departureTime"":""07:15"",""arrivalTime"":""08:25""},{""carrierCode"":""FR"",""number"":""7074"",""departureTime"":""22:20"",""arrivalTime"":""23:30""}]},{""day"":10,""flights"":[{""carrierCode"":""FR"",""number"":""5817"",""departureTime"":""07:15"",""arrivalTime"":""08:25""},{""carrierCode"":""FR"",""number"":""7074"",""departureTime"":""23:10"",""arrivalTime"":""00:20""}]},{""day"":11,""flights"":[{""carrierCode"":""FR"",""number"":""5817"",""departureTime"":""07:15"",""arrivalTime"":""08:25""},{""carrierCode"":""FR"",""number"":""7074"",""departureTime"":""12:40"",""arrivalTime"":""13:50""}]},{""day"":12,""flights"":[{""carrierCode"":""FR"",""number"":""5817"",""departureTime"":""07:15"",""arrivalTime"":""08:25""},{""carrierCode"":""FR"",""number"":""7074"",""departureTime"":""22:25"",""arrivalTime"":""23:35""}]},{""day"":13,""flights"":[{""carrierCode"":""FR"",""number"":""5817"",""departureTime"":""08:20"",""arrivalTime"":""09:30""},{""carrierCode"":""FR"",""number"":""7074"",""departureTime"":""22:20"",""arrivalTime"":""23:30""}]},{""day"":14,""flights"":[{""carrierCode"":""FR"",""number"":""5817"",""departureTime"":""07:20"",""arrivalTime"":""08:30""},{""carrierCode"":""FR"",""number"":""7074"",""departureTime"":""22:20"",""arrivalTime"":""23:30""}]},{""day"":15,""flights"":[{""carrierCode"":""FR"",""number"":""5817"",""departureTime"":""07:15"",""arrivalTime"":""08:25""},{""carrierCode"":""FR"",""number"":""7074"",""departureTime"":""22:40"",""arrivalTime"":""23:50""}]},{""day"":16,""flights"":[{""carrierCode"":""FR"",""number"":""5817"",""departureTime"":""07:15"",""arrivalTime"":""08:25""},{""carrierCode"":""FR"",""number"":""7074"",""departureTime"":""22:20"",""arrivalTime"":""23:30""}]},{""day"":17,""flights"":[{""carrierCode"":""FR"",""number"":""5817"",""departureTime"":""07:15"",""arrivalTime"":""08:25""},{""carrierCode"":""FR"",""number"":""7074"",""departureTime"":""23:10"",""arrivalTime"":""00:20""}]},{""day"":18,""flights"":[{""carrierCode"":""FR"",""number"":""5817"",""departureTime"":""07:15"",""arrivalTime"":""08:25""},{""carrierCode"":""FR"",""number"":""7074"",""departureTime"":""12:40"",""arrivalTime"":""13:50""}]},{""day"":19,""flights"":[{""carrierCode"":""FR"",""number"":""5817"",""departureTime"":""07:15"",""arrivalTime"":""08:25""},{""carrierCode"":""FR"",""number"":""7074"",""departureTime"":""22:25"",""arrivalTime"":""23:35""}]},{""day"":20,""flights"":[{""carrierCode"":""FR"",""number"":""5817"",""departureTime"":""08:20"",""arrivalTime"":""09:30""},{""carrierCode"":""FR"",""number"":""7074"",""departureTime"":""22:20"",""arrivalTime"":""23:30""}]},{""day"":21,""flights"":[{""carrierCode"":""FR"",""number"":""5817"",""departureTime"":""07:20"",""arrivalTime"":""08:30""},{""carrierCode"":""FR"",""number"":""7074"",""departureTime"":""22:20"",""arrivalTime"":""23:30""}]},{""day"":22,""flights"":[{""carrierCode"":""FR"",""number"":""5817"",""departureTime"":""07:15"",""arrivalTime"":""08:25""},{""carrierCode"":""FR"",""number"":""7074"",""departureTime"":""22:40"",""arrivalTime"":""23:50""}]},{""day"":23,""flights"":[{""carrierCode"":""FR"",""number"":""5817"",""departureTime"":""07:15"",""arrivalTime"":""08:25""},{""carrierCode"":""FR"",""number"":""7074"",""departureTime"":""22:20"",""arrivalTime"":""23:30""}]},{""day"":24,""flights"":[{""carrierCode"":""FR"",""number"":""5817"",""departureTime"":""07:15"",""arrivalTime"":""08:25""},{""carrierCode"":""FR"",""number"":""7074"",""departureTime"":""23:10"",""arrivalTime"":""00:20""}]},{""day"":25,""flights"":[{""carrierCode"":""FR"",""number"":""5817"",""departureTime"":""07:15"",""arrivalTime"":""08:25""},{""carrierCode"":""FR"",""number"":""7074"",""departureTime"":""12:40"",""arrivalTime"":""13:50""}]},{""day"":26,""flights"":[{""carrierCode"":""FR"",""number"":""5817"",""departureTime"":""07:15"",""arrivalTime"":""08:25""},{""carrierCode"":""FR"",""number"":""7074"",""departureTime"":""22:25"",""arrivalTime"":""23:35""}]},{""day"":27,""flights"":[{""carrierCode"":""FR"",""number"":""5817"",""departureTime"":""08:20"",""arrivalTime"":""09:30""},{""carrierCode"":""FR"",""number"":""7074"",""departureTime"":""22:20"",""arrivalTime"":""23:30""}]},{""day"":28,""flights"":[{""carrierCode"":""FR"",""number"":""5817"",""departureTime"":""07:20"",""arrivalTime"":""08:30""},{""carrierCode"":""FR"",""number"":""7074"",""departureTime"":""22:20"",""arrivalTime"":""23:30""}]},{""day"":29,""flights"":[{""carrierCode"":""FR"",""number"":""5817"",""departureTime"":""07:15"",""arrivalTime"":""08:25""},{""carrierCode"":""FR"",""number"":""7074"",""departureTime"":""22:40"",""arrivalTime"":""23:50""}]},{""day"":30,""flights"":[{""carrierCode"":""FR"",""number"":""5817"",""departureTime"":""07:15"",""arrivalTime"":""08:25""},{""carrierCode"":""FR"",""number"":""7074"",""departureTime"":""22:20"",""arrivalTime"":""23:30""}]}]}");

            //    if (res != null)
            //    {
            //        res.source = source;
            //        res.destination = destination;
            //    }
            //    return res;
            //}
            //else if (source == "FCO" && destination == "BER")
            //{
            //    var res = JsonConvert.DeserializeObject<Plan>(@"{""month"":11,""days"":[{""day"":1,""flights"":[{""carrierCode"":""FR"",""number"":""41"",""departureTime"":""09:40"",""arrivalTime"":""11:50""},{""carrierCode"":""FR"",""number"":""135"",""departureTime"":""19:10"",""arrivalTime"":""21:20""}]},{""day"":2,""flights"":[{""carrierCode"":""FR"",""number"":""41"",""departureTime"":""06:00"",""arrivalTime"":""08:10""}]},{""day"":3,""flights"":[{""carrierCode"":""FR"",""number"":""41"",""departureTime"":""13:00"",""arrivalTime"":""15:10""},{""carrierCode"":""FR"",""number"":""135"",""departureTime"":""18:10"",""arrivalTime"":""20:20""}]},{""day"":4,""flights"":[{""carrierCode"":""FR"",""number"":""41"",""departureTime"":""14:45"",""arrivalTime"":""16:55""},{""carrierCode"":""FR"",""number"":""135"",""departureTime"":""20:40"",""arrivalTime"":""22:50""}]},{""day"":5,""flights"":[{""carrierCode"":""FR"",""number"":""41"",""departureTime"":""10:40"",""arrivalTime"":""12:50""}]},{""day"":6,""flights"":[{""carrierCode"":""FR"",""number"":""41"",""departureTime"":""15:45"",""arrivalTime"":""17:55""}]},{""day"":7,""flights"":[{""carrierCode"":""FR"",""number"":""41"",""departureTime"":""15:30"",""arrivalTime"":""17:40""}]},{""day"":8,""flights"":[{""carrierCode"":""FR"",""number"":""41"",""departureTime"":""09:40"",""arrivalTime"":""11:50""},{""carrierCode"":""FR"",""number"":""135"",""departureTime"":""19:10"",""arrivalTime"":""21:20""}]},{""day"":9,""flights"":[{""carrierCode"":""FR"",""number"":""41"",""departureTime"":""06:00"",""arrivalTime"":""08:10""}]},{""day"":10,""flights"":[{""carrierCode"":""FR"",""number"":""41"",""departureTime"":""13:00"",""arrivalTime"":""15:10""},{""carrierCode"":""FR"",""number"":""135"",""departureTime"":""18:10"",""arrivalTime"":""20:20""}]},{""day"":11,""flights"":[{""carrierCode"":""FR"",""number"":""41"",""departureTime"":""14:45"",""arrivalTime"":""16:55""},{""carrierCode"":""FR"",""number"":""135"",""departureTime"":""20:40"",""arrivalTime"":""22:50""}]},{""day"":12,""flights"":[{""carrierCode"":""FR"",""number"":""41"",""departureTime"":""10:40"",""arrivalTime"":""12:50""}]},{""day"":13,""flights"":[{""carrierCode"":""FR"",""number"":""41"",""departureTime"":""15:45"",""arrivalTime"":""17:55""}]},{""day"":14,""flights"":[{""carrierCode"":""FR"",""number"":""41"",""departureTime"":""15:30"",""arrivalTime"":""17:40""}]},{""day"":15,""flights"":[{""carrierCode"":""FR"",""number"":""41"",""departureTime"":""09:40"",""arrivalTime"":""11:50""},{""carrierCode"":""FR"",""number"":""135"",""departureTime"":""19:10"",""arrivalTime"":""21:20""}]},{""day"":16,""flights"":[{""carrierCode"":""FR"",""number"":""41"",""departureTime"":""06:00"",""arrivalTime"":""08:10""}]},{""day"":17,""flights"":[{""carrierCode"":""FR"",""number"":""41"",""departureTime"":""13:00"",""arrivalTime"":""15:10""},{""carrierCode"":""FR"",""number"":""135"",""departureTime"":""18:10"",""arrivalTime"":""20:20""}]},{""day"":18,""flights"":[{""carrierCode"":""FR"",""number"":""41"",""departureTime"":""14:45"",""arrivalTime"":""16:55""},{""carrierCode"":""FR"",""number"":""135"",""departureTime"":""20:40"",""arrivalTime"":""22:50""}]},{""day"":19,""flights"":[{""carrierCode"":""FR"",""number"":""41"",""departureTime"":""10:40"",""arrivalTime"":""12:50""}]},{""day"":20,""flights"":[{""carrierCode"":""FR"",""number"":""41"",""departureTime"":""15:45"",""arrivalTime"":""17:55""}]},{""day"":21,""flights"":[{""carrierCode"":""FR"",""number"":""41"",""departureTime"":""15:30"",""arrivalTime"":""17:40""}]},{""day"":22,""flights"":[{""carrierCode"":""FR"",""number"":""41"",""departureTime"":""09:40"",""arrivalTime"":""11:50""},{""carrierCode"":""FR"",""number"":""135"",""departureTime"":""19:10"",""arrivalTime"":""21:20""}]},{""day"":23,""flights"":[{""carrierCode"":""FR"",""number"":""41"",""departureTime"":""06:00"",""arrivalTime"":""08:10""}]},{""day"":24,""flights"":[{""carrierCode"":""FR"",""number"":""41"",""departureTime"":""13:00"",""arrivalTime"":""15:10""},{""carrierCode"":""FR"",""number"":""135"",""departureTime"":""18:10"",""arrivalTime"":""20:20""}]},{""day"":25,""flights"":[{""carrierCode"":""FR"",""number"":""41"",""departureTime"":""14:45"",""arrivalTime"":""16:55""},{""carrierCode"":""FR"",""number"":""135"",""departureTime"":""20:40"",""arrivalTime"":""22:50""}]},{""day"":26,""flights"":[{""carrierCode"":""FR"",""number"":""41"",""departureTime"":""10:40"",""arrivalTime"":""12:50""}]},{""day"":27,""flights"":[{""carrierCode"":""FR"",""number"":""41"",""departureTime"":""15:45"",""arrivalTime"":""17:55""}]},{""day"":28,""flights"":[{""carrierCode"":""FR"",""number"":""41"",""departureTime"":""15:30"",""arrivalTime"":""17:40""}]},{""day"":29,""flights"":[{""carrierCode"":""FR"",""number"":""41"",""departureTime"":""09:40"",""arrivalTime"":""11:50""},{""carrierCode"":""FR"",""number"":""135"",""departureTime"":""19:10"",""arrivalTime"":""21:20""}]},{""day"":30,""flights"":[{""carrierCode"":""FR"",""number"":""41"",""departureTime"":""06:00"",""arrivalTime"":""08:10""}]}]}");

            //    if (res != null)
            //    {
            //        res.source = source;
            //        res.destination = destination;
            //    }
            //    return res;
            //}
            //else
            //{

            //}

            string url = $"timtbl/3/schedules/{source}/{destination}/years/{year}/months/{currentMonth}";
            var res = await _httpService.Get<Plan>(_httpService.GetFullUrl(url));

            if (res != null)
            {
                res.source = source;
                res.destination = destination;
            }
            return res;
        }

        public List<Multiplan> BuildMultiplan(Plan sourceStopPlan, Plan stopDestinationPlan)
        {
            var multiPlans = new List<Multiplan>();
            if (sourceStopPlan == null)
                throw new InvalidOperationException("In multiplan, source-stop plan is null");

            if (stopDestinationPlan == null)
                throw new InvalidOperationException("In multiplan, stop-destination plan is null");

            foreach (var sourceStopPlanDay in sourceStopPlan.days)
            {
                var dayStopDest = stopDestinationPlan.days.FirstOrDefault(x => x.day == sourceStopPlanDay.day);

                foreach (var flSourceStop in sourceStopPlanDay.flights)
                {
                    if (dayStopDest != null)
                    {
                        foreach (var flDayStopDest in dayStopDest.flights)
                        {
                            var arrival = DateTime.ParseExact(flSourceStop.arrivalTime, "HH:mm", CultureInfo.InvariantCulture);
                            var departure = DateTime.ParseExact(flDayStopDest.departureTime, "HH:mm", CultureInfo.InvariantCulture);

                            var diff = departure - arrival;
                            if (diff.TotalMilliseconds >= 3600000 && diff.TotalMilliseconds <= 9000000)
                            {
                                flSourceStop.source = sourceStopPlan.source;
                                flSourceStop.destination = sourceStopPlan.destination;

                                flDayStopDest.source = stopDestinationPlan.source;
                                flDayStopDest.destination = stopDestinationPlan.destination;

                                var multiplan = new Multiplan()
                                {
                                    destination = stopDestinationPlan.destination,
                                    stop = stopDestinationPlan.source,
                                    source = sourceStopPlan.source,
                                    month = stopDestinationPlan.month,
                                    days = new List<Day>()
                                {
                                    new Day() {
                                        day = sourceStopPlanDay.day,
                                        flights = new List<Flight>(){ flSourceStop, flDayStopDest }
                                    }
                                }
                                };

                                multiPlans.Add(multiplan);
                            }
                        }
                    }
                }
            }

            return multiPlans;
        }

    }
}
